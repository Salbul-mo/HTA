<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>default event 제거</title>
<link href="css/ex02062.css" type="text/css" rel="stylesheet">
<!-- 
  			인라인 모델의 form태그 onsubmit 이벤트 속성에 return 함수() 형태로 입력한다.
  			1. 이름의 값을 확인하고 빈문자열인 경우
  				(1) alert() 를 이용해서 '이름을 입력하세요'라는 대화상자가 나타난다.
  				(2) 이름에 포커스를 준다.
  				(3) submit 이벤트가 발생하지 않도록 한다.
  				
  			2. 비밀번호와 비밀번호 확인도 1번과 같은 작업을 한다.
  			
  			3. 이름, 비밀번호, 비밀번호확인을 모두 입력한 경우
  				(1) 비밀번호와 비밀번호 확인 값이 같은지 확인한다.
  				(2) 같다면 alert()를 이용해서 '성공' 이라는 대화상자가 나타나고 action 속성의 값으로 이동한다.
  				(3) 다르다면 alert()를 이용해서 '비밀번호가 다릅니다. 다시 입력해주세요' 라는 대화상자가 나타나고
  					비밀번호와 비밀번호 확인의 값을 빈 문자열로 설정, 비밀번호에 포커스를 준 뒤 
  					submit 이벶트가 발생하지 않도록 한다.
  	 -->


</head>
<body>
	<!-- 아무것도 입력하지 않고 제출을 클릭해 보자 -->
	<form onsubmit="return whenSubmit()"
		action="04_01_Event5_EX_reference.html">
		<fieldset>
			<legend>회원가입 폼</legend>
			<label for="name">이름</label> 
			<input type="text" name="name" id="name"><br>
			<label for="pass">비밀번호</label> 
			<input type="password" name="pass" id="pass"><br> 
			<label for="pass-check">비밀번호 확인</label>
			<input type="password" name="pass-check" id="pass-check"><br> 
			<input type="submit" value="제출"><br>
		</fieldset>
	</form>
	<script>
		function whenSubmit() {
			var name = document.getElementById('name');
			var pass = document.getElementById('pass');
			var pass_check = document.getElementById('pass-check');

			var name_input = name.value.trim(); // 입력값 공백 제거
			var pass_input = pass.value.trim(); // 입력값 공백 제거
			var pass_check_input = pass_check.value.trim(); // 입력값 공백 제거
			
			if (name_input) { // 빈 문자열 확인

				if (pass_input) { // 빈 문자열 확인
					
					if(pass_check_input) { // 빈 문자열 확인

						if (pass_input === pass_check_input) { // 비밀번호와 비밀번호 확인 동일한지 확인
							alert('성공');
							//location.href = document.getElementsByTagName('form')[0].action;
							//return true;
						
						} else {
							alert('비밀번호가 다릅니다. 다시 입력해주세요.');
							pass.value = '';
							pass_check.value = '';
							pass.focus();
							return false;
						}
					
					} else {
						alert('비밀번호 확인을 입력하세요');
						pass_check.focus();
						return false;
					}

				} else {
					alert('비밀번호를 입력하세요');
					pass.focus();
					return false;
				}

			} else {
				alert('이름을 입력하세요');
				name.focus();
				return false;
			}

		}
	</script>

</body>
</html>